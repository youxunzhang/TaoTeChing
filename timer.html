<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="google-adsense-account" content="ca-pub-8794607118520437">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8794607118520437"
     crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Timer | Tao Te Ching</title>
    <meta name="description" content="Set a timer for your reading session and track your progress. Stay focused and mindful while exploring the wisdom of the Tao Te Ching.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Inter', 'sans-serif']
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e'
                        }
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-slate-50 via-white to-blue-50 text-slate-800 font-sans min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white/80 backdrop-blur-md border-b border-slate-200/50 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="index.html" class="text-2xl font-serif font-bold bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent">
                            Tao Te Ching
                        </a>
                        <p class="text-xs text-slate-500 font-medium">道德经 - The Way of Virtue</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-6">
                    <a href="index.html" class="text-slate-600 hover:text-primary-600 font-medium transition-colors">Home</a>
                    <a href="laozi.html" class="text-slate-600 hover:text-primary-600 font-medium transition-colors">Laozi</a>
                    <a href="zhuangzi.html" class="text-slate-600 hover:text-primary-600 font-medium transition-colors">Zhuangzi</a>
                    <a href="games.html" class="text-slate-600 hover:text-primary-600 font-medium transition-colors">Games</a>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- Hero Section -->
        <section class="relative py-20 md:py-32 overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 via-transparent to-blue-50/50"></div>
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-slate-900 mb-6 leading-tight">
                        <span class="bg-gradient-to-r from-primary-600 to-blue-600 bg-clip-text text-transparent">Reading Timer</span>
                    </h1>
                    <p class="text-2xl md:text-3xl font-serif text-slate-700 mb-8">Mindful Reading Sessions</p>
                    <p class="max-w-3xl mx-auto text-slate-600 leading-relaxed text-lg md:text-xl">
                        Set a timer for your reading session and stay focused while exploring the wisdom of the Tao Te Ching
                    </p>
                </div>
            </div>
        </section>

        <!-- Timer Section -->
        <section class="py-16">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-white rounded-2xl shadow-xl border border-slate-200 p-8 md:p-12">
                    <!-- Timer Display -->
                    <div class="text-center mb-12">
                        <div id="timerDisplay" class="text-6xl md:text-8xl font-mono font-bold text-slate-900 mb-6">
                            25:00
                        </div>
                        <div id="timerStatus" class="text-xl text-slate-600 mb-8">Ready to start your reading session</div>
                        
                        <!-- Progress Circle -->
                        <div class="relative w-48 h-48 mx-auto mb-8">
                            <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                                <circle
                                    cx="50"
                                    cy="50"
                                    r="45"
                                    fill="none"
                                    stroke="#e2e8f0"
                                    stroke-width="8"
                                />
                                <circle
                                    id="progressCircle"
                                    cx="50"
                                    cy="50"
                                    r="45"
                                    fill="none"
                                    stroke="#0ea5e9"
                                    stroke-width="8"
                                    stroke-linecap="round"
                                    stroke-dasharray="283"
                                    stroke-dashoffset="283"
                                    class="transition-all duration-1000 ease-out"
                                />
                            </svg>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div id="progressText" class="text-2xl font-bold text-slate-900">100%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Timer Controls -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <!-- Time Presets -->
                        <div>
                            <h3 class="text-xl font-serif font-bold text-slate-900 mb-4">Quick Presets</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="setTimer(15)" class="preset-btn" data-time="15">15 min</button>
                                <button onclick="setTimer(25)" class="preset-btn active" data-time="25">25 min</button>
                                <button onclick="setTimer(45)" class="preset-btn" data-time="45">45 min</button>
                                <button onclick="setTimer(60)" class="preset-btn" data-time="60">60 min</button>
                            </div>
                        </div>

                        <!-- Custom Time -->
                        <div>
                            <h3 class="text-xl font-serif font-bold text-slate-900 mb-4">Custom Time</h3>
                            <div class="flex space-x-3">
                                <div class="flex-1">
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Minutes</label>
                                    <input type="number" id="customMinutes" min="1" max="120" value="25" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                </div>
                                <div class="flex items-end">
                                    <button onclick="setCustomTimer()" class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium">
                                        Set
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Control Buttons -->
                    <div class="flex justify-center space-x-4">
                        <button id="startBtn" onclick="startTimer()" class="bg-green-600 text-white px-8 py-4 rounded-xl font-medium hover:bg-green-700 transition-all duration-300 text-lg">
                            Start Reading
                        </button>
                        <button id="pauseBtn" onclick="pauseTimer()" class="bg-yellow-600 text-white px-8 py-4 rounded-xl font-medium hover:bg-yellow-700 transition-all duration-300 text-lg hidden">
                            Pause
                        </button>
                        <button id="resetBtn" onclick="resetTimer()" class="bg-slate-600 text-white px-8 py-4 rounded-xl font-medium hover:bg-slate-700 transition-all duration-300 text-lg">
                            Reset
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reading Tips -->
        <section class="py-16 bg-white/50">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-900 mb-4">Reading Tips</h2>
                    <div class="w-24 h-1 bg-gradient-to-r from-primary-500 to-blue-500 mx-auto rounded-full"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-serif font-bold text-slate-900 mb-2">Take Breaks</h3>
                        <p class="text-slate-600">Use shorter sessions for better focus and comprehension</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-serif font-bold text-slate-900 mb-2">Stay Present</h3>
                        <p class="text-slate-600">Focus on the words and let the wisdom sink in naturally</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-serif font-bold text-slate-900 mb-2">Reflect</h3>
                        <p class="text-slate-600">Take time to contemplate the meaning of what you've read</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Session History -->
        <section class="py-16">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-900 mb-4">Reading Sessions</h2>
                    <p class="text-slate-600 max-w-2xl mx-auto">Track your reading progress and build a consistent practice</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg border border-slate-200 p-8">
                    <div id="sessionHistory" class="space-y-4">
                        <!-- Sessions will be loaded here -->
                    </div>
                    <div id="noSessions" class="text-center text-slate-500 py-8">
                        <p>No reading sessions yet. Start your first session to begin tracking your progress!</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <h3 class="text-2xl font-serif font-bold mb-4">Tao Te Ching</h3>
                <p class="text-slate-400 mb-8 max-w-2xl mx-auto">
                    Ancient wisdom for modern times. Explore the profound teachings of Laozi through our complete collection of 81 chapters.
                </p>
                <div class="flex justify-center space-x-8 text-sm">
                    <a href="index.html" class="text-slate-400 hover:text-white transition-colors">Home</a>
                    <a href="laozi.html" class="text-slate-400 hover:text-white transition-colors">Laozi</a>
                    <a href="zhuangzi.html" class="text-slate-400 hover:text-white transition-colors">Zhuangzi</a>
                    <a href="games.html" class="text-slate-400 hover:text-white transition-colors">Games</a>
                </div>
                <div class="mt-8 pt-8 border-t border-slate-800">
                    <p class="text-slate-500">&copy; 2024 Tao Te Ching Reading Site. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <style>
        .preset-btn {
            @apply px-4 py-3 text-sm font-medium border border-slate-300 rounded-lg transition-all duration-200 bg-white;
        }
        
        .preset-btn:hover {
            @apply bg-slate-50 border-slate-400;
        }
        
        .preset-btn.active {
            @apply bg-primary-600 text-white border-primary-600;
        }
    </style>

    <script>
        let timer;
        let timeLeft = 25 * 60; // 25 minutes in seconds
        let totalTime = 25 * 60;
        let isRunning = false;
        let isPaused = false;

        // Load saved sessions
        function loadSessions() {
            const sessions = JSON.parse(localStorage.getItem('readingSessions') || '[]');
            const historyDiv = document.getElementById('sessionHistory');
            const noSessionsDiv = document.getElementById('noSessions');
            
            if (sessions.length === 0) {
                historyDiv.innerHTML = '';
                noSessionsDiv.style.display = 'block';
                return;
            }
            
            noSessionsDiv.style.display = 'none';
            historyDiv.innerHTML = sessions.slice(-5).reverse().map(session => `
                <div class="flex justify-between items-center p-4 bg-slate-50 rounded-lg">
                    <div>
                        <div class="font-medium text-slate-900">${session.duration} minute session</div>
                        <div class="text-sm text-slate-500">${new Date(session.date).toLocaleDateString()}</div>
                    </div>
                    <div class="text-sm text-slate-600">
                        ${session.completed ? 'Completed' : 'Interrupted'}
                    </div>
                </div>
            `).join('');
        }

        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update progress circle
            const progress = (timeLeft / totalTime) * 100;
            const circumference = 2 * Math.PI * 45;
            const offset = circumference - (progress / 100) * circumference;
            
            document.getElementById('progressCircle').style.strokeDashoffset = offset;
            document.getElementById('progressText').textContent = `${Math.round(progress)}%`;
        }

        function setTimer(minutes) {
            timeLeft = minutes * 60;
            totalTime = minutes * 60;
            updateDisplay();
            
            // Update active preset button
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-time="${minutes}"]`).classList.add('active');
            
            // Update custom input
            document.getElementById('customMinutes').value = minutes;
        }

        function setCustomTimer() {
            const minutes = parseInt(document.getElementById('customMinutes').value);
            if (minutes >= 1 && minutes <= 120) {
                setTimer(minutes);
            }
        }

        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                isPaused = false;
                
                document.getElementById('startBtn').classList.add('hidden');
                document.getElementById('pauseBtn').classList.remove('hidden');
                document.getElementById('timerStatus').textContent = 'Reading in progress...';
                
                timer = setInterval(() => {
                    timeLeft--;
                    updateDisplay();
                    
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        isRunning = false;
                        
                        // Save completed session
                        saveSession(true);
                        
                        document.getElementById('timerStatus').textContent = 'Reading session completed!';
                        document.getElementById('startBtn').classList.remove('hidden');
                        document.getElementById('pauseBtn').classList.add('hidden');
                        
                        // Show notification
                        if ('Notification' in window && Notification.permission === 'granted') {
                            new Notification('Reading Session Complete', {
                                body: 'Great job! Your reading session has finished.',
                                icon: '/favicon.ico'
                            });
                        }
                    }
                }, 1000);
            }
        }

        function pauseTimer() {
            if (isRunning) {
                clearInterval(timer);
                isRunning = false;
                isPaused = true;
                
                document.getElementById('startBtn').classList.remove('hidden');
                document.getElementById('pauseBtn').classList.add('hidden');
                document.getElementById('timerStatus').textContent = 'Session paused';
            }
        }

        function resetTimer() {
            clearInterval(timer);
            isRunning = false;
            isPaused = false;
            
            timeLeft = totalTime;
            updateDisplay();
            
            document.getElementById('startBtn').classList.remove('hidden');
            document.getElementById('pauseBtn').classList.add('hidden');
            document.getElementById('timerStatus').textContent = 'Ready to start your reading session';
            
            // Save interrupted session if it was running
            if (isPaused) {
                saveSession(false);
            }
        }

        function saveSession(completed) {
            const sessions = JSON.parse(localStorage.getItem('readingSessions') || '[]');
            const duration = Math.floor(totalTime / 60);
            
            sessions.push({
                date: new Date().toISOString(),
                duration: duration,
                completed: completed
            });
            
            // Keep only last 20 sessions
            if (sessions.length > 20) {
                sessions.splice(0, sessions.length - 20);
            }
            
            localStorage.setItem('readingSessions', JSON.stringify(sessions));
            loadSessions();
        }

        // Request notification permission
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateDisplay();
            loadSessions();
        });
    </script>
</body>
</html>
